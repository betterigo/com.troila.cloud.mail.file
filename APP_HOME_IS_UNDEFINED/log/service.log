2018-08-03 08:38:51,609 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:38:51,624 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:38:51,707 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ae439e: startup date [Fri Aug 03 08:38:51 CST 2018]; root of context hierarchy
2018-08-03 08:38:52,873 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:38:52,967 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:38:52,994 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:38:52,996 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:38:52,997 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:38:52,998 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:38:52,998 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:38:52,999 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:38:53,346 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:38:53,482 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:38:53,868 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:38:53,877 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:38:53,885 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:38:53,885 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:38:53,889 INFO o.a.c.c.AprLifecycleListener [DirectJDKLog.java : 180] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jre1.8.0_121\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jre1.8.0_121/bin/server;C:/Program Files/Java/jre1.8.0_121/bin;C:/Program Files/Java/jre1.8.0_121/lib/amd64;C:\Program Files\Microsoft MPI\Bin\;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\iCLS\;C:\Program Files\Intel\Intel(R) Management Engine Components\iCLS\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\TortoiseSVN\bin;D:\apache-ant-1.9.10\bin;C:\Program Files\Java\jdk1.8.0_121\bin;C:\Program Files\Java\jdk1.8.0_121\jre\bin;C:\Program Files\nodejs\;C:\Program Files\dotnet\;C:\Program Files\Microsoft SQL Server\130\Tools\Binn\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\Scripts\;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\;C:\Users\haodonglei\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Roaming\npm;C:\Users\haodonglei\AppData\Local\GitHubDesktop\bin;D:\sts-bundle\sts-3.9.2.RELEASE;;.]
2018-08-03 08:38:54,102 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:38:54,103 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 2396 ms
2018-08-03 08:38:54,678 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:38:54,678 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:38:54,679 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:38:54,679 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:38:54,679 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:38:54,681 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:38:54,681 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:38:54,822 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-1 - Starting...
2018-08-03 08:38:54,986 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-1 - Start completed.
2018-08-03 08:38:55,044 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:38:55,056 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:38:55,133 INFO o.h.Version [Version.java : 45] HHH000412: Hibernate Core {5.2.17.Final}
2018-08-03 08:38:55,136 INFO o.h.c.Environment [Environment.java : 213] HHH000206: hibernate.properties not found
2018-08-03 08:38:55,172 INFO o.h.a.c.Version [JavaReflectionManager.java : 66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-08-03 08:38:55,302 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:38:55,770 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:38:56,524 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:38:56,525 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:38:56,940 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:38:57,014 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:38:57,563 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:38:57,563 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:38:57,564 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:38:57,564 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:38:57,658 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@493e385f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f1772bf, org.springframework.security.web.header.HeaderWriterFilter@6a207dfb, org.springframework.security.web.authentication.logout.LogoutFilter@3f3fb47d, com.troila.cloud.mail.file.security.filter.TokenFilter@5b80103d, com.troila.cloud.mail.file.security.filter.UserLoginFilter@14c7a794, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@48033013, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6311503, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ed2e4ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45959eb7, org.springframework.security.web.session.SessionManagementFilter@629bfc9, org.springframework.security.web.access.ExceptionTranslationFilter@7fc2c2b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5abc4a39]
2018-08-03 08:38:57,823 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:38:57,913 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ae439e: startup date [Fri Aug 03 08:38:51 CST 2018]; root of context hierarchy
2018-08-03 08:38:57,942 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:38:57,975 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:38:57,978 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:38:57,978 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:38:57,978 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:38:57,979 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:38:57,979 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:38:57,979 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:38:57,982 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:38:57,982 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:38:57,982 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:38:57,982 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:38:57,983 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:38:57,984 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:38:57,985 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:38:58,020 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:38:58,020 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:38:58,036 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:38:58,420 INFO i.l.c.EpollProvider [Slf4JLogger.java : 101] Starting without optional epoll library
2018-08-03 08:38:58,421 INFO i.l.c.KqueueProvider [Slf4JLogger.java : 101] Starting without optional kqueue library
2018-08-03 08:38:58,805 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:38:58,834 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:38:58,835 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:38:58,840 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:38:58,844 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:38:58,896 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:38:58,902 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:38:58,926 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:38:58,930 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 7.662 seconds (JVM running for 8.605)
2018-08-03 08:43:28,149 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:43:28,149 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:43:28,168 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 18 ms
2018-08-03 08:43:28,220 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:43:54,618 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12ae439e: startup date [Fri Aug 03 08:38:51 CST 2018]; root of context hierarchy
2018-08-03 08:43:54,621 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:43:54,626 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:43:54,626 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:43:54,628 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:43:54,630 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-1 - Shutdown initiated...
2018-08-03 08:43:54,636 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-1 - Shutdown completed.
2018-08-03 08:43:56,119 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:43:56,119 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:43:56,122 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ee654e8: startup date [Fri Aug 03 08:43:56 CST 2018]; root of context hierarchy
2018-08-03 08:43:56,601 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:43:56,639 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:43:56,649 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:43:56,650 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:43:56,650 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:43:56,650 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:43:56,650 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:43:56,651 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:43:56,722 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:43:56,744 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:43:56,838 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:43:56,839 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:43:56,840 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:43:56,840 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:43:56,872 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:43:56,873 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 751 ms
2018-08-03 08:43:56,943 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:43:56,943 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:43:56,943 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:43:56,943 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:43:56,943 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:43:56,943 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:43:56,944 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:43:56,981 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-2 - Starting...
2018-08-03 08:43:56,994 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-2 - Start completed.
2018-08-03 08:43:57,011 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:43:57,011 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:43:57,032 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:43:57,089 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:43:57,220 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:43:57,221 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:43:57,486 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:43:57,519 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:43:57,682 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:43:57,682 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:43:57,682 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:43:57,682 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:43:57,694 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4256f0ff, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e0fd38f, org.springframework.security.web.header.HeaderWriterFilter@101af8a2, org.springframework.security.web.authentication.logout.LogoutFilter@46eb16a6, com.troila.cloud.mail.file.security.filter.TokenFilter@6948c64b, com.troila.cloud.mail.file.security.filter.UserLoginFilter@c0ff9c3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@74b13806, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16a2a80f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@513a9d91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7183814c, org.springframework.security.web.session.SessionManagementFilter@703cff57, org.springframework.security.web.access.ExceptionTranslationFilter@314f2544, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59e798b1]
2018-08-03 08:43:57,733 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:43:57,765 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ee654e8: startup date [Fri Aug 03 08:43:56 CST 2018]; root of context hierarchy
2018-08-03 08:43:57,772 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:43:57,778 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:43:57,778 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:43:57,778 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:43:57,778 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:43:57,779 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:43:57,779 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:43:57,779 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:43:57,780 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:43:57,780 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:43:57,781 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:43:57,781 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:43:57,781 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:43:57,783 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:43:57,783 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:43:57,795 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:43:57,795 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:43:57,804 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:43:57,953 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:43:57,973 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:43:57,974 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:43:57,977 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:43:57,978 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:43:57,990 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:43:57,995 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:43:58,008 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:43:58,010 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.928 seconds (JVM running for 307.685)
2018-08-03 08:43:58,014 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:44:02,130 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:44:02,130 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:44:02,133 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:44:02,141 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:45:53,071 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2ee654e8: startup date [Fri Aug 03 08:43:56 CST 2018]; root of context hierarchy
2018-08-03 08:45:53,074 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:45:53,077 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:45:53,078 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:45:53,080 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:45:53,081 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-2 - Shutdown initiated...
2018-08-03 08:45:53,086 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-2 - Shutdown completed.
2018-08-03 08:45:54,673 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:45:54,674 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:45:54,677 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44a6ade6: startup date [Fri Aug 03 08:45:54 CST 2018]; root of context hierarchy
2018-08-03 08:45:55,182 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:45:55,224 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:45:55,236 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:45:55,237 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:45:55,238 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:45:55,238 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:45:55,239 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:45:55,239 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:45:55,307 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:45:55,327 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:45:55,429 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:45:55,430 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:45:55,430 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:45:55,430 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:45:55,450 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:45:55,451 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 774 ms
2018-08-03 08:45:55,522 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:45:55,523 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:45:55,563 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-3 - Starting...
2018-08-03 08:45:55,575 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-3 - Start completed.
2018-08-03 08:45:55,600 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:45:55,600 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:45:55,622 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:45:55,685 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:45:55,823 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:45:55,823 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:45:56,087 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:45:56,115 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:45:56,262 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:45:56,262 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:45:56,263 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:45:56,263 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:45:56,275 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39ea21dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@44e1e621, org.springframework.security.web.header.HeaderWriterFilter@239b8c98, org.springframework.security.web.authentication.logout.LogoutFilter@7bfc59c3, com.troila.cloud.mail.file.security.filter.TokenFilter@534bea63, com.troila.cloud.mail.file.security.filter.UserLoginFilter@4843d2d2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@11f4b09b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f6f9e07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@206f363e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c07d329, org.springframework.security.web.session.SessionManagementFilter@4a123b53, org.springframework.security.web.access.ExceptionTranslationFilter@67ff8d4f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58d86979]
2018-08-03 08:45:56,319 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:45:56,346 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44a6ade6: startup date [Fri Aug 03 08:45:54 CST 2018]; root of context hierarchy
2018-08-03 08:45:56,355 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:45:56,361 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:45:56,361 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:45:56,361 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:45:56,362 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:45:56,362 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:45:56,362 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:45:56,362 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:45:56,364 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:45:56,365 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:45:56,365 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:45:56,365 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:45:56,366 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:45:56,368 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:45:56,368 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:45:56,384 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:45:56,384 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:45:56,398 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:45:56,560 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:45:56,580 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:45:56,581 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:45:56,585 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:45:56,586 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:45:56,598 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:45:56,605 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:45:56,618 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:45:56,620 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.99 seconds (JVM running for 426.295)
2018-08-03 08:45:56,624 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:46:04,540 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:46:04,540 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:46:04,543 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:46:04,549 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:46:35,543 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@44a6ade6: startup date [Fri Aug 03 08:45:54 CST 2018]; root of context hierarchy
2018-08-03 08:46:35,545 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:46:35,549 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:46:35,549 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:46:35,551 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:46:35,551 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-3 - Shutdown initiated...
2018-08-03 08:46:35,555 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-3 - Shutdown completed.
2018-08-03 08:46:37,090 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:46:37,090 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:46:37,093 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a8e6983: startup date [Fri Aug 03 08:46:37 CST 2018]; root of context hierarchy
2018-08-03 08:46:37,564 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:46:37,602 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:46:37,613 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:46:37,613 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:46:37,613 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:46:37,613 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:46:37,614 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:46:37,614 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:46:37,679 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:46:37,695 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:46:37,787 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:46:37,788 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:46:37,789 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:46:37,789 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:46:37,816 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:46:37,817 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 724 ms
2018-08-03 08:46:37,879 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:46:37,879 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:46:37,915 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-4 - Starting...
2018-08-03 08:46:37,926 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-4 - Start completed.
2018-08-03 08:46:37,941 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:46:37,941 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:46:37,961 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:46:38,011 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:46:38,131 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:46:38,132 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:46:38,394 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:46:38,418 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:46:38,536 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:46:38,536 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:46:38,536 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:46:38,536 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:46:38,550 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45571eaf, org.springframework.security.web.context.SecurityContextPersistenceFilter@de073f5, org.springframework.security.web.header.HeaderWriterFilter@1ef6e3eb, org.springframework.security.web.authentication.logout.LogoutFilter@2fa9c1dd, com.troila.cloud.mail.file.security.filter.TokenFilter@3592ad47, com.troila.cloud.mail.file.security.filter.UserLoginFilter@77f6e67c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@607c3de9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24ad5973, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ded0fb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76640e1e, org.springframework.security.web.session.SessionManagementFilter@4c6dc16f, org.springframework.security.web.access.ExceptionTranslationFilter@565fe775, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9f97be2]
2018-08-03 08:46:38,590 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:46:38,631 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a8e6983: startup date [Fri Aug 03 08:46:37 CST 2018]; root of context hierarchy
2018-08-03 08:46:38,639 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:46:38,648 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:46:38,648 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:46:38,648 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:46:38,649 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:46:38,649 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:46:38,649 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:46:38,649 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:46:38,650 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:46:38,650 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:46:38,651 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:46:38,651 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:46:38,651 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:46:38,653 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:46:38,653 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:46:38,665 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:46:38,665 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:46:38,672 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:46:38,815 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:46:38,835 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:46:38,836 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:46:38,839 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:46:38,840 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:46:38,853 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:46:38,859 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:46:38,870 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:46:38,872 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.813 seconds (JVM running for 468.547)
2018-08-03 08:46:38,875 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:46:41,314 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:46:41,314 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:46:41,317 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:46:41,322 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:47:03,588 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@a8e6983: startup date [Fri Aug 03 08:46:37 CST 2018]; root of context hierarchy
2018-08-03 08:47:03,591 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:47:03,594 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:47:03,595 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:47:03,596 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:03,597 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-4 - Shutdown initiated...
2018-08-03 08:47:03,602 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-4 - Shutdown completed.
2018-08-03 08:47:05,093 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:47:05,093 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:47:05,096 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12dfaa45: startup date [Fri Aug 03 08:47:05 CST 2018]; root of context hierarchy
2018-08-03 08:47:05,557 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:47:05,592 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:47:05,602 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:47:05,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:47:05,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:47:05,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:47:05,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:47:05,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:47:05,664 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:47:05,680 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:47:05,769 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:47:05,770 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:47:05,770 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:47:05,770 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:47:05,786 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:47:05,788 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 692 ms
2018-08-03 08:47:05,851 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:47:05,851 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:47:05,852 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:47:05,852 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:47:05,852 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:47:05,852 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:47:05,852 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:47:05,887 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-5 - Starting...
2018-08-03 08:47:05,898 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-5 - Start completed.
2018-08-03 08:47:05,915 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:05,915 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:47:05,933 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:47:05,978 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:06,099 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:47:06,099 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:47:06,383 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:47:06,407 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:47:06,521 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:47:06,521 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:47:06,521 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:47:06,521 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:47:06,533 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6234e250, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e4427e4, org.springframework.security.web.header.HeaderWriterFilter@7965fed1, org.springframework.security.web.authentication.logout.LogoutFilter@f7f8a5, com.troila.cloud.mail.file.security.filter.TokenFilter@7aa2f382, com.troila.cloud.mail.file.security.filter.UserLoginFilter@16472d4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2afaf2a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29db58c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f9eb854, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cf6d787, org.springframework.security.web.session.SessionManagementFilter@3b1891cb, org.springframework.security.web.access.ExceptionTranslationFilter@190fcefa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ae42b21]
2018-08-03 08:47:06,573 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:06,597 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12dfaa45: startup date [Fri Aug 03 08:47:05 CST 2018]; root of context hierarchy
2018-08-03 08:47:06,620 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:47:06,625 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:47:06,625 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:47:06,625 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:47:06,626 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:47:06,626 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:47:06,626 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:47:06,626 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:47:06,627 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:47:06,627 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:47:06,628 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:47:06,628 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:47:06,628 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:47:06,630 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:47:06,630 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:47:06,641 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:06,641 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:06,649 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:47:06,790 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:47:06,809 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:47:06,809 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:47:06,812 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:47:06,813 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:47:06,825 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:47:06,830 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:47:06,844 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:47:06,845 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.786 seconds (JVM running for 496.52)
2018-08-03 08:47:06,848 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:47:09,273 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:47:09,273 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:47:09,276 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 2 ms
2018-08-03 08:47:09,281 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:47:32,584 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@12dfaa45: startup date [Fri Aug 03 08:47:05 CST 2018]; root of context hierarchy
2018-08-03 08:47:32,586 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:47:32,589 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:47:32,589 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:47:32,591 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:32,591 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-5 - Shutdown initiated...
2018-08-03 08:47:32,597 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-5 - Shutdown completed.
2018-08-03 08:47:34,110 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:47:34,110 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:47:34,114 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@684e2fef: startup date [Fri Aug 03 08:47:34 CST 2018]; root of context hierarchy
2018-08-03 08:47:34,563 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:47:34,599 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:47:34,608 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:47:34,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:47:34,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:47:34,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:47:34,610 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:47:34,610 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:47:34,670 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:47:34,686 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:47:34,777 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:47:34,777 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:47:34,778 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:47:34,778 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:47:34,795 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:47:34,796 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 682 ms
2018-08-03 08:47:34,862 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:47:34,862 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:47:34,897 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-6 - Starting...
2018-08-03 08:47:34,910 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-6 - Start completed.
2018-08-03 08:47:34,924 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:34,924 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:47:34,942 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:47:34,991 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:47:35,109 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:47:35,109 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:47:35,371 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:47:35,396 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:47:35,510 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:47:35,510 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:47:35,510 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:47:35,510 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:47:35,522 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b9cb2a6, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f8f919b, org.springframework.security.web.header.HeaderWriterFilter@650439bc, org.springframework.security.web.authentication.logout.LogoutFilter@1fb36430, com.troila.cloud.mail.file.security.filter.TokenFilter@118d462f, com.troila.cloud.mail.file.security.filter.UserLoginFilter@38b19702, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@26aa6368, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a5f1bf2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ed214dc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d75025f, org.springframework.security.web.session.SessionManagementFilter@40bc2f91, org.springframework.security.web.access.ExceptionTranslationFilter@19d380d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31a316da]
2018-08-03 08:47:35,558 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:35,582 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@684e2fef: startup date [Fri Aug 03 08:47:34 CST 2018]; root of context hierarchy
2018-08-03 08:47:35,589 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:47:35,595 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:47:35,595 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:47:35,595 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:47:35,595 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:47:35,595 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:47:35,596 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:47:35,596 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:47:35,597 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:47:35,597 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:47:35,597 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:47:35,598 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:47:35,598 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:47:35,599 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:47:35,600 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:47:35,611 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:35,611 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:47:35,619 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:47:35,779 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:47:35,797 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:47:35,798 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:47:35,801 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:47:35,802 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:47:35,815 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:47:35,820 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:47:35,831 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:47:35,833 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.754 seconds (JVM running for 525.508)
2018-08-03 08:47:35,836 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:47:39,842 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:47:39,842 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:47:39,845 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 2 ms
2018-08-03 08:47:39,850 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:48:26,955 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@684e2fef: startup date [Fri Aug 03 08:47:34 CST 2018]; root of context hierarchy
2018-08-03 08:48:26,957 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:48:26,961 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:48:26,961 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:48:26,963 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:48:26,964 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-6 - Shutdown initiated...
2018-08-03 08:48:26,969 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-6 - Shutdown completed.
2018-08-03 08:48:28,450 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:48:28,450 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:48:28,453 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@127b3d23: startup date [Fri Aug 03 08:48:28 CST 2018]; root of context hierarchy
2018-08-03 08:48:28,914 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:48:28,950 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:48:28,960 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:48:28,960 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:48:28,961 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:48:28,961 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:48:28,961 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:48:28,961 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:48:29,021 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:48:29,038 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:48:29,128 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:48:29,129 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:48:29,129 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:48:29,129 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:48:29,147 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:48:29,148 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 695 ms
2018-08-03 08:48:29,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:48:29,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:48:29,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:48:29,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:48:29,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:48:29,210 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:48:29,210 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:48:29,245 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-7 - Starting...
2018-08-03 08:48:29,257 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-7 - Start completed.
2018-08-03 08:48:29,275 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:48:29,275 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:48:29,294 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:48:29,336 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:48:29,448 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:48:29,448 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:48:29,713 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:48:29,739 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:48:29,853 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:48:29,854 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:48:29,854 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:48:29,854 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:48:29,866 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21778b3e, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e4be0c6, org.springframework.security.web.header.HeaderWriterFilter@27d37b8d, org.springframework.security.web.authentication.logout.LogoutFilter@887111c, com.troila.cloud.mail.file.security.filter.TokenFilter@5a16925d, com.troila.cloud.mail.file.security.filter.UserLoginFilter@10ef00c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@15fc2211, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63698d4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f5a8dbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7516a696, org.springframework.security.web.session.SessionManagementFilter@72a4b5c7, org.springframework.security.web.access.ExceptionTranslationFilter@7c5031f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@48d27229]
2018-08-03 08:48:29,901 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:48:29,925 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@127b3d23: startup date [Fri Aug 03 08:48:28 CST 2018]; root of context hierarchy
2018-08-03 08:48:29,934 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:48:29,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:48:29,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:48:29,941 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:48:29,941 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:48:29,941 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:48:29,941 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:48:29,942 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:48:29,943 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:48:29,943 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:48:29,943 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:48:29,943 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:48:29,944 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:48:29,945 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:48:29,945 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:48:29,957 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:48:29,957 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:48:29,966 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:48:30,123 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:48:30,141 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:48:30,142 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:48:30,145 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:48:30,146 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:48:30,158 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:48:30,164 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:48:30,178 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:48:30,179 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.761 seconds (JVM running for 579.854)
2018-08-03 08:48:30,181 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:48:32,523 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:48:32,523 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:48:32,526 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:48:32,531 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:51:06,823 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@127b3d23: startup date [Fri Aug 03 08:48:28 CST 2018]; root of context hierarchy
2018-08-03 08:51:06,826 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:51:06,829 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:51:06,829 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:51:06,831 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:51:06,832 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-7 - Shutdown initiated...
2018-08-03 08:51:06,836 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-7 - Shutdown completed.
2018-08-03 08:51:08,366 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:51:08,366 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:51:08,369 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a314a3: startup date [Fri Aug 03 08:51:08 CST 2018]; root of context hierarchy
2018-08-03 08:51:08,834 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:51:08,871 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:51:08,881 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:51:08,881 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:51:08,881 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:51:08,881 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:51:08,882 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:51:08,882 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:51:08,942 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:51:08,961 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:51:09,052 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:51:09,053 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:51:09,053 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:51:09,053 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:51:09,070 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:51:09,071 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 702 ms
2018-08-03 08:51:09,133 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:51:09,134 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:51:09,169 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-8 - Starting...
2018-08-03 08:51:09,182 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-8 - Start completed.
2018-08-03 08:51:09,197 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:51:09,197 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:51:09,215 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:51:09,258 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:51:09,373 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:51:09,373 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:51:09,637 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:51:09,662 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:51:09,779 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:51:09,779 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:51:09,779 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:51:09,779 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:51:09,792 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49fb4b43, org.springframework.security.web.context.SecurityContextPersistenceFilter@46ec5e9c, org.springframework.security.web.header.HeaderWriterFilter@743880d6, org.springframework.security.web.authentication.logout.LogoutFilter@27d469f1, com.troila.cloud.mail.file.security.filter.TokenFilter@5c104e99, com.troila.cloud.mail.file.security.filter.UserLoginFilter@293dadf3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23e39dfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64d8d048, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5456c235, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@160ed947, org.springframework.security.web.session.SessionManagementFilter@7ef1a01e, org.springframework.security.web.access.ExceptionTranslationFilter@3452c889, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25ef0d8]
2018-08-03 08:51:09,831 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:51:09,856 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a314a3: startup date [Fri Aug 03 08:51:08 CST 2018]; root of context hierarchy
2018-08-03 08:51:09,863 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:51:09,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:51:09,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:51:09,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:51:09,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:51:09,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:51:09,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:51:09,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:51:09,871 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:51:09,871 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:51:09,872 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:51:09,872 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:51:09,872 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:51:09,874 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:51:09,874 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:51:09,886 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:51:09,886 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:51:09,894 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:51:10,040 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:51:10,059 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:51:10,060 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:51:10,063 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:51:10,064 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:51:10,078 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:51:10,083 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:51:10,105 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:51:10,117 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.784 seconds (JVM running for 739.793)
2018-08-03 08:51:10,121 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:51:12,681 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:51:12,681 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:51:12,684 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:51:12,689 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:53:58,004 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61a314a3: startup date [Fri Aug 03 08:51:08 CST 2018]; root of context hierarchy
2018-08-03 08:53:58,006 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:53:58,010 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:53:58,011 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:53:58,012 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:53:58,013 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-8 - Shutdown initiated...
2018-08-03 08:53:58,017 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-8 - Shutdown completed.
2018-08-03 08:53:59,567 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:53:59,568 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:53:59,571 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@45d288bd: startup date [Fri Aug 03 08:53:59 CST 2018]; root of context hierarchy
2018-08-03 08:54:00,037 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:54:00,073 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:54:00,083 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:54:00,083 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:54:00,084 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:54:00,084 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:54:00,084 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:54:00,084 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:54:00,146 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:54:00,162 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:54:00,254 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:54:00,255 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:54:00,255 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:54:00,255 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:54:00,273 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:54:00,274 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 703 ms
2018-08-03 08:54:00,335 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:54:00,335 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:54:00,371 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-9 - Starting...
2018-08-03 08:54:00,383 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-9 - Start completed.
2018-08-03 08:54:00,402 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:54:00,402 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:54:00,420 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:54:00,462 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:54:00,577 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:54:00,578 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:54:00,881 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:54:00,905 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:54:01,022 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:54:01,023 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:54:01,023 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:54:01,023 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:54:01,036 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@499bcf7, org.springframework.security.web.context.SecurityContextPersistenceFilter@2d1debd8, org.springframework.security.web.header.HeaderWriterFilter@3354ff4c, org.springframework.security.web.authentication.logout.LogoutFilter@452195fc, com.troila.cloud.mail.file.security.filter.TokenFilter@1d739b03, com.troila.cloud.mail.file.security.filter.UserLoginFilter@69f228bf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6b5c34d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d3f2f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1069c3b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@638273fe, org.springframework.security.web.session.SessionManagementFilter@7d550908, org.springframework.security.web.access.ExceptionTranslationFilter@487c3379, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b1ffd57]
2018-08-03 08:54:01,074 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:54:01,098 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@45d288bd: startup date [Fri Aug 03 08:53:59 CST 2018]; root of context hierarchy
2018-08-03 08:54:01,105 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:54:01,111 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:54:01,111 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:54:01,111 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:54:01,111 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:54:01,112 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:54:01,112 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:54:01,112 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:54:01,113 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:54:01,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:54:01,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:54:01,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:54:01,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:54:01,116 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:54:01,116 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:54:01,127 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:54:01,127 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:54:01,135 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:54:01,274 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:54:01,292 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:54:01,293 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:54:01,295 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:54:01,296 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:54:01,308 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:54:01,313 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:54:01,334 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:54:01,335 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.801 seconds (JVM running for 911.01)
2018-08-03 08:54:01,338 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:54:05,673 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:54:05,673 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:54:05,676 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:54:05,682 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:59:07,728 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@45d288bd: startup date [Fri Aug 03 08:53:59 CST 2018]; root of context hierarchy
2018-08-03 08:59:07,731 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:59:07,735 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:59:07,735 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:59:07,737 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:07,738 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-9 - Shutdown initiated...
2018-08-03 08:59:07,744 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-9 - Shutdown completed.
2018-08-03 08:59:09,236 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:59:09,236 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:59:09,240 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f51bad2: startup date [Fri Aug 03 08:59:09 CST 2018]; root of context hierarchy
2018-08-03 08:59:09,715 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:09,752 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:09,762 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:59:09,762 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:59:09,762 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:59:09,762 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:59:09,763 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:59:09,763 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:59:09,824 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:59:09,841 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:59:09,932 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:59:09,933 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:59:09,933 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:59:09,933 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:59:09,952 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:59:09,953 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 713 ms
2018-08-03 08:59:10,020 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:59:10,020 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:59:10,020 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:59:10,020 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:59:10,021 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:59:10,021 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:59:10,021 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:59:10,056 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-10 - Starting...
2018-08-03 08:59:10,068 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-10 - Start completed.
2018-08-03 08:59:10,083 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:10,084 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:59:10,101 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:59:10,146 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:10,263 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:59:10,263 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:59:10,529 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:59:10,552 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:59:10,669 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:59:10,669 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:59:10,670 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:59:10,670 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:59:10,682 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74c1faa9, org.springframework.security.web.context.SecurityContextPersistenceFilter@f13399, org.springframework.security.web.header.HeaderWriterFilter@6a4537a, org.springframework.security.web.authentication.logout.LogoutFilter@39a88f31, com.troila.cloud.mail.file.security.filter.TokenFilter@13ddcdd7, com.troila.cloud.mail.file.security.filter.UserLoginFilter@5c388820, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@892396c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fac655c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b37d850, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45789392, org.springframework.security.web.session.SessionManagementFilter@ef38fc8, org.springframework.security.web.access.ExceptionTranslationFilter@28b4fcdf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@640565e1]
2018-08-03 08:59:10,721 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:10,746 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f51bad2: startup date [Fri Aug 03 08:59:09 CST 2018]; root of context hierarchy
2018-08-03 08:59:10,753 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:59:10,759 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:59:10,760 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:59:10,760 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:59:10,760 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:59:10,761 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:59:10,761 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:59:10,761 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:59:10,762 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:59:10,762 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:59:10,763 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:59:10,763 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:59:10,763 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:59:10,765 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:59:10,765 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:59:10,776 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:10,777 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:10,784 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:59:10,922 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:59:10,941 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:59:10,942 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:59:10,945 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:59:10,946 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:59:10,959 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:59:10,964 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:59:10,976 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:59:10,977 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.774 seconds (JVM running for 1220.652)
2018-08-03 08:59:10,980 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:59:13,905 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:59:13,905 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:59:13,909 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:59:13,914 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:59:29,611 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f51bad2: startup date [Fri Aug 03 08:59:09 CST 2018]; root of context hierarchy
2018-08-03 08:59:29,614 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:59:29,617 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:59:29,618 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:59:29,627 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:29,629 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-10 - Shutdown initiated...
2018-08-03 08:59:29,643 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-10 - Shutdown completed.
2018-08-03 08:59:31,185 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:59:31,186 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:59:31,189 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3118019c: startup date [Fri Aug 03 08:59:31 CST 2018]; root of context hierarchy
2018-08-03 08:59:31,649 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:31,684 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:31,695 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:59:31,695 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:59:31,695 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:59:31,695 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:59:31,696 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:59:31,696 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:59:31,761 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:59:31,779 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:59:31,870 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:59:31,871 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:59:31,871 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:59:31,871 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:59:31,889 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:59:31,890 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 701 ms
2018-08-03 08:59:31,952 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:59:31,952 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:59:31,990 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-11 - Starting...
2018-08-03 08:59:32,003 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-11 - Start completed.
2018-08-03 08:59:32,019 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:32,019 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:59:32,036 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 08:59:32,080 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:32,198 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 08:59:32,199 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 08:59:32,475 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 08:59:32,507 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 08:59:32,627 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 08:59:32,627 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 08:59:32,627 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 08:59:32,627 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 08:59:32,640 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54018346, org.springframework.security.web.context.SecurityContextPersistenceFilter@1adf5222, org.springframework.security.web.header.HeaderWriterFilter@2605f5ec, org.springframework.security.web.authentication.logout.LogoutFilter@711ab3ae, com.troila.cloud.mail.file.security.filter.TokenFilter@6dde3fbc, com.troila.cloud.mail.file.security.filter.UserLoginFilter@1b759953, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@53615279, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cee6ade, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@354d523a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42dee2de, org.springframework.security.web.session.SessionManagementFilter@69f5bcc9, org.springframework.security.web.access.ExceptionTranslationFilter@1db7641b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@116cf632]
2018-08-03 08:59:32,678 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:32,702 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3118019c: startup date [Fri Aug 03 08:59:31 CST 2018]; root of context hierarchy
2018-08-03 08:59:32,710 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 08:59:32,715 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 08:59:32,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 08:59:32,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:59:32,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 08:59:32,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 08:59:32,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 08:59:32,717 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 08:59:32,717 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 08:59:32,717 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 08:59:32,718 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 08:59:32,718 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 08:59:32,718 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 08:59:32,719 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 08:59:32,720 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 08:59:32,731 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:32,731 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 08:59:32,739 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 08:59:32,881 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 08:59:32,900 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 08:59:32,901 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 08:59:32,904 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 08:59:32,904 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 08:59:32,917 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 08:59:32,922 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 08:59:32,935 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 08:59:32,936 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.782 seconds (JVM running for 1242.611)
2018-08-03 08:59:32,944 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 08:59:35,192 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 08:59:35,193 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 08:59:35,196 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 08:59:35,201 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 08:59:57,664 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3118019c: startup date [Fri Aug 03 08:59:31 CST 2018]; root of context hierarchy
2018-08-03 08:59:57,667 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 08:59:57,670 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 08:59:57,671 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 08:59:57,672 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:57,673 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-11 - Shutdown initiated...
2018-08-03 08:59:57,678 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-11 - Shutdown completed.
2018-08-03 08:59:59,122 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 08:59:59,122 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 08:59:59,125 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@476bbae0: startup date [Fri Aug 03 08:59:59 CST 2018]; root of context hierarchy
2018-08-03 08:59:59,575 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:59,611 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 08:59:59,621 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 08:59:59,621 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 08:59:59,622 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 08:59:59,622 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 08:59:59,622 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 08:59:59,622 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 08:59:59,680 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 08:59:59,697 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 08:59:59,789 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 08:59:59,790 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 08:59:59,791 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 08:59:59,791 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 08:59:59,809 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 08:59:59,811 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 685 ms
2018-08-03 08:59:59,876 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 08:59:59,876 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 08:59:59,877 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 08:59:59,877 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 08:59:59,877 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 08:59:59,877 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 08:59:59,877 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 08:59:59,914 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-12 - Starting...
2018-08-03 08:59:59,925 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-12 - Start completed.
2018-08-03 08:59:59,941 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 08:59:59,941 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 08:59:59,959 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:00:00,008 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:00:00,142 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:00:00,143 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:00:00,402 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:00:00,427 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:00:00,545 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:00:00,546 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:00:00,546 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:00:00,546 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:00:00,558 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dad843c, org.springframework.security.web.context.SecurityContextPersistenceFilter@c665c52, org.springframework.security.web.header.HeaderWriterFilter@575c237b, org.springframework.security.web.authentication.logout.LogoutFilter@7e2c8705, com.troila.cloud.mail.file.security.filter.TokenFilter@2ce51c37, com.troila.cloud.mail.file.security.filter.UserLoginFilter@5e6e8676, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@43223f34, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@581b5fb4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6eeaf837, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c67c910, org.springframework.security.web.session.SessionManagementFilter@13b07ccb, org.springframework.security.web.access.ExceptionTranslationFilter@49b3b351, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@170cbebb]
2018-08-03 09:00:00,596 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:00:00,621 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@476bbae0: startup date [Fri Aug 03 08:59:59 CST 2018]; root of context hierarchy
2018-08-03 09:00:00,628 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:00:00,634 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:00:00,635 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:00:00,635 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:00:00,635 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:00:00,635 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:00:00,636 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:00:00,636 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:00:00,637 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:00:00,637 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:00:00,638 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:00:00,638 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:00:00,638 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:00:00,640 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:00:00,640 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:00:00,652 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:00:00,652 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:00:00,660 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:00:00,829 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:00:00,848 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:00:00,849 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:00:00,852 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:00:00,853 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:00:00,865 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:00:00,870 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:00:00,883 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:00:00,884 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.793 seconds (JVM running for 1270.559)
2018-08-03 09:00:00,887 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 09:00:04,696 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:00:04,697 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:00:04,699 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 2 ms
2018-08-03 09:00:04,705 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 09:01:31,609 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@476bbae0: startup date [Fri Aug 03 08:59:59 CST 2018]; root of context hierarchy
2018-08-03 09:01:31,611 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:01:31,615 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:01:31,616 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:01:31,617 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:01:31,618 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-12 - Shutdown initiated...
2018-08-03 09:01:31,624 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-12 - Shutdown completed.
2018-08-03 09:01:33,177 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:01:33,177 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:01:33,180 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78e19e61: startup date [Fri Aug 03 09:01:33 CST 2018]; root of context hierarchy
2018-08-03 09:01:33,640 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:01:33,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:01:33,686 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:01:33,686 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:01:33,687 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:01:33,687 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:01:33,687 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:01:33,687 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:01:33,749 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:01:33,767 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:01:33,857 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:01:33,857 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:01:33,857 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:01:33,858 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:01:33,880 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:01:33,881 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 701 ms
2018-08-03 09:01:33,944 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:01:33,944 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:01:33,944 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:01:33,944 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:01:33,945 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:01:33,945 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:01:33,945 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:01:33,985 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-13 - Starting...
2018-08-03 09:01:33,997 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-13 - Start completed.
2018-08-03 09:01:34,013 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:01:34,013 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:01:34,030 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:01:34,076 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:01:34,194 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:01:34,194 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:01:34,458 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:01:34,482 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:01:34,600 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:01:34,600 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:01:34,600 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:01:34,600 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:01:34,613 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33b2d496, org.springframework.security.web.context.SecurityContextPersistenceFilter@70e4498f, org.springframework.security.web.header.HeaderWriterFilter@6a1b5fde, org.springframework.security.web.authentication.logout.LogoutFilter@538fa79c, com.troila.cloud.mail.file.security.filter.TokenFilter@22665907, com.troila.cloud.mail.file.security.filter.UserLoginFilter@64703608, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@630734f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@89feb4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30dcb4d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e0a3ec2, org.springframework.security.web.session.SessionManagementFilter@3b1b0566, org.springframework.security.web.access.ExceptionTranslationFilter@3df9bc83, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d0b6b68]
2018-08-03 09:01:34,651 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:01:34,676 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78e19e61: startup date [Fri Aug 03 09:01:33 CST 2018]; root of context hierarchy
2018-08-03 09:01:34,683 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:01:34,688 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:01:34,689 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:01:34,689 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:01:34,689 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:01:34,689 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:01:34,690 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:01:34,690 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:01:34,690 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:01:34,691 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:01:34,691 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:01:34,691 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:01:34,691 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:01:34,693 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:01:34,693 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:01:34,705 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:01:34,706 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:01:34,713 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:01:34,849 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:01:34,867 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:01:34,868 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:01:34,870 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:01:34,871 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:01:34,886 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:01:34,892 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:01:34,903 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:01:34,905 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.76 seconds (JVM running for 1364.58)
2018-08-03 09:01:34,909 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 09:01:39,464 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:01:39,464 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:01:39,467 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 09:01:39,473 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 09:01:59,633 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@78e19e61: startup date [Fri Aug 03 09:01:33 CST 2018]; root of context hierarchy
2018-08-03 09:01:59,636 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:01:59,640 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:01:59,641 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:01:59,643 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:01:59,643 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-13 - Shutdown initiated...
2018-08-03 09:01:59,648 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-13 - Shutdown completed.
2018-08-03 09:02:00,015 ERROR o.s.s.s.TaskUtils$LoggingErrorHandler [TaskUtils.java : 96] Unexpected error occurred in scheduled task.
org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to 172.27.108.93:6379
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:966)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:934)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:786)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:300)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:132)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:95)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:82)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:211)
	at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:184)
	at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:95)
	at org.springframework.data.redis.core.DefaultSetOperations.members(DefaultSetOperations.java:158)
	at org.springframework.data.redis.core.DefaultBoundSetOperations.members(DefaultBoundSetOperations.java:152)
	at org.springframework.session.data.redis.RedisSessionExpirationPolicy.cleanExpiredSessions(RedisSessionExpirationPolicy.java:132)
	at org.springframework.session.data.redis.RedisOperationsSessionRepository.cleanupExpiredSessions(RedisOperationsSessionRepository.java:393)
	at org.springframework.session.data.redis.config.annotation.web.http.RedisHttpSessionConfiguration.lambda$configureTasks$0(RedisHttpSessionConfiguration.java:242)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)
Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to 172.27.108.93:6379
	at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)
	at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:233)
	at io.lettuce.core.RedisClient.connectStandalone(RedisClient.java:253)
	at io.lettuce.core.RedisClient.connect(RedisClient.java:202)
	at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:56)
	at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:959)
	... 23 common frames omitted
Caused by: java.lang.IllegalStateException: executor not accepting a task
	at io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:60)
	at io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:200)
	at io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:49)
	at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:188)
	at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:174)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:511)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:485)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:424)
	at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:103)
	at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:978)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:512)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:423)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:482)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:404)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:465)
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:884)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	... 1 common frames omitted
2018-08-03 09:02:01,394 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:02:01,394 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:02:01,397 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@49379c20: startup date [Fri Aug 03 09:02:01 CST 2018]; root of context hierarchy
2018-08-03 09:02:01,856 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:02:01,892 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:02:01,902 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:02:01,902 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:02:01,902 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:02:01,902 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:02:01,903 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:02:01,903 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:02:01,962 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:02:01,979 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:02:02,067 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:02:02,068 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:02:02,068 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:02:02,068 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:02:02,086 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:02:02,087 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 690 ms
2018-08-03 09:02:02,150 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:02:02,150 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:02:02,184 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-14 - Starting...
2018-08-03 09:02:02,195 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-14 - Start completed.
2018-08-03 09:02:02,210 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:02:02,211 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:02:02,227 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:02:02,268 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:02:02,380 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:02:02,380 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:02:02,644 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:02:02,667 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:02:02,781 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:02:02,781 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:02:02,781 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:02:02,781 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:02:02,794 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74ca9d2b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b291e4e, org.springframework.security.web.header.HeaderWriterFilter@4e87e47b, org.springframework.security.web.authentication.logout.LogoutFilter@5367af72, com.troila.cloud.mail.file.security.filter.TokenFilter@21bbc0c3, com.troila.cloud.mail.file.security.filter.UserLoginFilter@195430ec, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e517ccc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f338ce1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e660940, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c368816, org.springframework.security.web.session.SessionManagementFilter@6fc45117, org.springframework.security.web.access.ExceptionTranslationFilter@4252d391, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b8e6b2b]
2018-08-03 09:02:02,831 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:02,856 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@49379c20: startup date [Fri Aug 03 09:02:01 CST 2018]; root of context hierarchy
2018-08-03 09:02:02,863 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:02:02,868 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:02:02,868 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:02:02,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:02:02,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:02:02,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:02:02,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:02:02,869 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:02:02,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:02:02,870 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:02:02,871 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:02:02,871 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:02:02,871 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:02:02,874 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:02:02,874 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:02:02,886 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:02,886 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:02,894 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:02:03,029 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:02:03,048 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:02:03,048 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:02:03,051 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:02:03,052 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:02:03,066 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:02:03,071 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:02:03,084 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:02:03,085 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.725 seconds (JVM running for 1392.76)
2018-08-03 09:02:03,089 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 09:02:05,785 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:02:05,785 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:02:05,789 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 4 ms
2018-08-03 09:02:05,794 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 09:02:28,892 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@49379c20: startup date [Fri Aug 03 09:02:01 CST 2018]; root of context hierarchy
2018-08-03 09:02:28,895 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:02:28,899 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:02:28,900 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:02:28,901 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:02:28,902 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-14 - Shutdown initiated...
2018-08-03 09:02:28,908 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-14 - Shutdown completed.
2018-08-03 09:02:30,450 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:02:30,451 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:02:30,453 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66ca5b81: startup date [Fri Aug 03 09:02:30 CST 2018]; root of context hierarchy
2018-08-03 09:02:30,909 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:02:30,946 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:02:30,955 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:02:31,015 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:02:31,032 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:02:31,123 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:02:31,123 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:02:31,124 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:02:31,124 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:02:31,149 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:02:31,150 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 697 ms
2018-08-03 09:02:31,211 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:02:31,212 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:02:31,249 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-15 - Starting...
2018-08-03 09:02:31,261 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-15 - Start completed.
2018-08-03 09:02:31,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:02:31,277 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:02:31,294 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:02:31,336 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:02:31,450 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:02:31,451 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:02:31,715 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:02:31,738 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$f75fa3f7 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:02:31,853 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:02:31,853 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:02:31,853 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:02:31,853 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:02:31,865 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44ef6c8e, org.springframework.security.web.context.SecurityContextPersistenceFilter@632e12f2, org.springframework.security.web.header.HeaderWriterFilter@b2399e8, org.springframework.security.web.authentication.logout.LogoutFilter@66b64239, com.troila.cloud.mail.file.security.filter.TokenFilter@64dcb695, com.troila.cloud.mail.file.security.filter.UserLoginFilter@676db109, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@29340472, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a73e11f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d08c160, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e733e02, org.springframework.security.web.session.SessionManagementFilter@322d2919, org.springframework.security.web.access.ExceptionTranslationFilter@120b73e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79ff49be]
2018-08-03 09:02:31,901 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:31,925 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66ca5b81: startup date [Fri Aug 03 09:02:30 CST 2018]; root of context hierarchy
2018-08-03 09:02:31,932 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:02:31,937 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:02:31,937 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:02:31,938 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:02:31,938 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:02:31,938 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:02:31,938 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:02:31,938 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:02:31,939 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:02:31,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:02:31,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:02:31,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:02:31,940 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:02:31,942 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:02:31,942 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:02:31,954 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:31,954 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:02:31,961 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:02:32,095 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:02:32,113 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:02:32,114 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:02:32,117 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:02:32,118 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:02:32,130 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:02:32,134 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:02:32,146 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:02:32,147 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.728 seconds (JVM running for 1421.822)
2018-08-03 09:02:32,149 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 09:12:34,451 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@66ca5b81: startup date [Fri Aug 03 09:02:30 CST 2018]; root of context hierarchy
2018-08-03 09:12:34,452 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:12:34,454 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:12:34,455 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:12:34,456 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:12:34,457 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-15 - Shutdown initiated...
2018-08-03 09:12:34,462 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-15 - Shutdown completed.
2018-08-03 09:12:36,032 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 3760 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:12:36,033 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:12:36,035 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6a05dddb: startup date [Fri Aug 03 09:12:36 CST 2018]; root of context hierarchy
2018-08-03 09:12:36,522 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:12:36,562 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:12:36,575 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:12:36,576 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:12:36,576 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:12:36,576 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:12:36,576 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:12:36,576 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:12:36,654 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:12:36,670 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ea808995] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:12:36,765 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:12:36,766 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:12:36,767 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:12:36,767 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:12:36,785 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:12:36,786 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 751 ms
2018-08-03 09:12:36,857 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:12:36,858 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:12:36,907 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-16 - Starting...
2018-08-03 09:12:36,917 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-16 - Start completed.
2018-08-03 09:12:36,936 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:12:36,936 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:17:16,604 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 18032 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:17:16,608 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:17:16,641 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fa3e560: startup date [Fri Aug 03 09:17:16 CST 2018]; root of context hierarchy
2018-08-03 09:17:17,503 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:17:17,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:17:17,600 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:17:17,601 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:17:17,602 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:17:17,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:17:17,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:17:17,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:17:17,864 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:17:17,984 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2d445f33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:17:18,314 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:17:18,324 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:17:18,332 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:17:18,332 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:17:18,335 INFO o.a.c.c.AprLifecycleListener [DirectJDKLog.java : 180] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jre1.8.0_121\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jre1.8.0_121/bin/server;C:/Program Files/Java/jre1.8.0_121/bin;C:/Program Files/Java/jre1.8.0_121/lib/amd64;C:\Program Files\Microsoft MPI\Bin\;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\iCLS\;C:\Program Files\Intel\Intel(R) Management Engine Components\iCLS\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\TortoiseSVN\bin;D:\apache-ant-1.9.10\bin;C:\Program Files\Java\jdk1.8.0_121\bin;C:\Program Files\Java\jdk1.8.0_121\jre\bin;C:\Program Files\nodejs\;C:\Program Files\dotnet\;C:\Program Files\Microsoft SQL Server\130\Tools\Binn\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\Scripts\;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\;C:\Users\haodonglei\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Roaming\npm;C:\Users\haodonglei\AppData\Local\GitHubDesktop\bin;D:\sts-bundle\sts-3.9.2.RELEASE;;.]
2018-08-03 09:17:18,419 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:17:18,419 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 1778 ms
2018-08-03 09:17:18,814 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:17:18,815 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:17:18,815 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:17:18,815 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:17:18,815 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:17:18,816 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:17:18,816 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:17:18,942 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-1 - Starting...
2018-08-03 09:17:19,074 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-1 - Start completed.
2018-08-03 09:17:19,120 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:17:19,129 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:17:19,180 INFO o.h.Version [Version.java : 45] HHH000412: Hibernate Core {5.2.17.Final}
2018-08-03 09:17:19,182 INFO o.h.c.Environment [Environment.java : 213] HHH000206: hibernate.properties not found
2018-08-03 09:17:19,217 INFO o.h.a.c.Version [JavaReflectionManager.java : 66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-08-03 09:17:19,323 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:17:19,688 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:17:20,314 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:17:20,314 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:17:20,724 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:17:20,793 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$3a237995 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:17:21,313 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:17:21,313 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:17:21,313 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:17:21,313 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:17:21,404 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7de2efd, org.springframework.security.web.context.SecurityContextPersistenceFilter@74f440e, org.springframework.security.web.header.HeaderWriterFilter@15d3a892, org.springframework.security.web.authentication.logout.LogoutFilter@1798538e, com.troila.cloud.mail.file.security.filter.TokenFilter@4eac794e, com.troila.cloud.mail.file.security.filter.UserLoginFilter@4f581234, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5e31c5e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ad9e605, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49825619, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f9680b2, org.springframework.security.web.session.SessionManagementFilter@1154dcf0, org.springframework.security.web.access.ExceptionTranslationFilter@ef30fc3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31b88a3b]
2018-08-03 09:17:21,566 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:17:21,652 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fa3e560: startup date [Fri Aug 03 09:17:16 CST 2018]; root of context hierarchy
2018-08-03 09:17:21,679 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:17:21,712 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:17:21,714 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:17:21,714 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:17:21,715 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:17:21,715 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:17:21,715 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:17:21,716 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:17:21,718 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:17:21,718 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:17:21,719 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:17:21,719 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:17:21,720 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:17:21,723 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:17:21,723 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:17:21,755 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:17:21,755 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:17:21,775 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:17:22,139 INFO i.l.c.EpollProvider [Slf4JLogger.java : 101] Starting without optional epoll library
2018-08-03 09:17:22,140 INFO i.l.c.KqueueProvider [Slf4JLogger.java : 101] Starting without optional kqueue library
2018-08-03 09:17:22,458 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:17:22,485 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:17:22,486 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:17:22,492 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:17:22,495 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:17:22,544 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:17:22,550 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:17:22,573 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:17:22,576 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 6.2 seconds (JVM running for 7.024)
2018-08-03 09:17:41,058 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:17:41,058 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:17:41,076 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 17 ms
2018-08-03 09:17:41,127 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 09:18:33,944 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fa3e560: startup date [Fri Aug 03 09:17:16 CST 2018]; root of context hierarchy
2018-08-03 09:18:33,947 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:18:33,952 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:18:33,953 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:18:33,955 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:18:33,956 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-1 - Shutdown initiated...
2018-08-03 09:18:33,959 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-1 - Shutdown completed.
2018-08-03 09:18:35,410 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 18032 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:18:35,410 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:18:35,413 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5727b3cd: startup date [Fri Aug 03 09:18:35 CST 2018]; root of context hierarchy
2018-08-03 09:18:35,892 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:18:35,929 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:18:35,939 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:18:35,939 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:18:35,940 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:18:35,940 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:18:35,940 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:18:35,940 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:18:36,005 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:18:36,022 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$2d445f33] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:18:36,115 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:18:36,116 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:18:36,117 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:18:36,117 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:18:36,138 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:18:36,139 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 726 ms
2018-08-03 09:18:36,208 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:18:36,208 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:18:36,208 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:18:36,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:18:36,209 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:18:36,209 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:18:36,209 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:18:36,249 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-2 - Starting...
2018-08-03 09:18:36,261 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-2 - Start completed.
2018-08-03 09:18:36,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:18:36,277 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:18:36,296 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:18:36,350 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:18:36,477 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:18:36,477 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:18:36,739 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:18:36,765 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$3a237995 [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:18:36,889 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:18:36,889 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:18:36,889 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:18:36,890 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:18:36,904 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f918d32, org.springframework.security.web.context.SecurityContextPersistenceFilter@57695f7f, org.springframework.security.web.header.HeaderWriterFilter@534d3eea, org.springframework.security.web.authentication.logout.LogoutFilter@24658391, com.troila.cloud.mail.file.security.filter.TokenFilter@6e82b2c6, com.troila.cloud.mail.file.security.filter.UserLoginFilter@10d12f62, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6de1127c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@108235e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a82f371, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75c6adf6, org.springframework.security.web.session.SessionManagementFilter@6d8c7cac, org.springframework.security.web.access.ExceptionTranslationFilter@2b8d943b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6183f5c9]
2018-08-03 09:18:36,960 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:18:36,985 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5727b3cd: startup date [Fri Aug 03 09:18:35 CST 2018]; root of context hierarchy
2018-08-03 09:18:36,993 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:18:36,999 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:18:36,999 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:18:36,999 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:18:37,000 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:18:37,000 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:18:37,000 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:18:37,000 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:18:37,001 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:18:37,001 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:18:37,002 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:18:37,002 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:18:37,002 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:18:37,004 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:18:37,004 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:18:37,015 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:18:37,015 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:18:37,023 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:18:37,160 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:18:37,178 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:18:37,179 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:18:37,182 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:18:37,183 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:18:37,197 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:18:37,202 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:18:37,213 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:18:37,215 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 1.839 seconds (JVM running for 81.662)
2018-08-03 09:18:37,218 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [ConditionEvaluationDeltaLoggingListener.java : 56] Condition evaluation unchanged
2018-08-03 09:18:43,711 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:18:43,711 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:18:43,714 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 3 ms
2018-08-03 09:18:43,719 INFO o.h.h.i.QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java : 47] HHH000397: Using ASTQueryTranslatorFactory
2018-08-03 09:19:20,098 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] [DirectJDKLog.java : 182] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
javax.ws.rs.BadRequestException: 无效的access_key
	at com.troila.cloud.mail.file.security.filter.TokenFilter.doFilterInternal(TokenFilter.java:67)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:147)
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2018-08-03 09:25:57,108 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5727b3cd: startup date [Fri Aug 03 09:18:35 CST 2018]; root of context hierarchy
2018-08-03 09:25:57,111 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:25:57,114 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:25:57,114 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:25:57,116 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:25:57,117 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-2 - Shutdown initiated...
2018-08-03 09:25:57,122 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-2 - Shutdown completed.
2018-08-03 09:58:27,933 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 50] Starting Application on hdl-pc with PID 9308 (C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file\target\classes started by haodonglei in C:\Users\haodonglei\Documents\workspace-sts-3.9.2.RELEASE\com.troila.cloud.mail.file)
2018-08-03 09:58:27,936 INFO c.t.c.m.f.Application [SpringApplication.java : 659] No active profile set, falling back to default profiles: default
2018-08-03 09:58:27,968 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 590] Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@15dd8613: startup date [Fri Aug 03 09:58:27 CST 2018]; root of context hierarchy
2018-08-03 09:58:28,854 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:58:28,932 INFO o.s.d.r.c.RepositoryConfigurationDelegate [RepositoryConfigurationDelegate.java : 163] Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-03 09:58:28,951 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileDetailInfoRepositoty.
2018-08-03 09:58:28,952 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoExtRepository.
2018-08-03 09:58:28,953 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FileInfoRepository.
2018-08-03 09:58:28,953 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderFileRepository.
2018-08-03 09:58:28,954 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.FolderRepository.
2018-08-03 09:58:28,954 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [RepositoryConfigurationExtensionSupport.java : 297] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.troila.cloud.mail.file.repository.UserRepository.
2018-08-03 09:58:29,219 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [AutowiredAnnotationBeanPostProcessor.java : 154] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-08-03 09:58:29,341 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [PostProcessorRegistrationDelegate.java : 328] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1d32634b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-03 09:58:29,670 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 91] Tomcat initialized with port(s): 8089 (http)
2018-08-03 09:58:29,682 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Initializing ProtocolHandler ["http-nio-8089"]
2018-08-03 09:58:29,690 INFO o.a.c.c.StandardService [DirectJDKLog.java : 180] Starting service [Tomcat]
2018-08-03 09:58:29,690 INFO o.a.c.c.StandardEngine [DirectJDKLog.java : 180] Starting Servlet Engine: Apache Tomcat/8.5.31
2018-08-03 09:58:29,694 INFO o.a.c.c.AprLifecycleListener [DirectJDKLog.java : 180] The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jre1.8.0_121\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jre1.8.0_121/bin/server;C:/Program Files/Java/jre1.8.0_121/bin;C:/Program Files/Java/jre1.8.0_121/lib/amd64;C:\Program Files\Microsoft MPI\Bin\;C:\ProgramData\Oracle\Java\javapath;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\iCLS\;C:\Program Files\Intel\Intel(R) Management Engine Components\iCLS\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\TortoiseSVN\bin;D:\apache-ant-1.9.10\bin;C:\Program Files\Java\jdk1.8.0_121\bin;C:\Program Files\Java\jdk1.8.0_121\jre\bin;C:\Program Files\nodejs\;C:\Program Files\dotnet\;C:\Program Files\Microsoft SQL Server\130\Tools\Binn\;C:\WINDOWS\System32\OpenSSH\;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\Scripts\;C:\Users\haodonglei\AppData\Local\Programs\Python\Python36\;C:\Users\haodonglei\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Microsoft VS Code\bin;C:\Users\haodonglei\AppData\Roaming\npm;C:\Users\haodonglei\AppData\Local\GitHubDesktop\bin;D:\sts-bundle\sts-3.9.2.RELEASE;;.]
2018-08-03 09:58:29,778 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring embedded WebApplicationContext
2018-08-03 09:58:29,779 INFO o.s.w.c.ContextLoader [ServletWebServerApplicationContext.java : 285] Root WebApplicationContext: initialization completed in 1811 ms
2018-08-03 09:58:30,183 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-03 09:58:30,184 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'sessionRepositoryFilter' to: [/*]
2018-08-03 09:58:30,184 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-03 09:58:30,184 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-03 09:58:30,184 INFO o.s.b.w.s.FilterRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'requestContextFilter' to: [/*]
2018-08-03 09:58:30,185 INFO o.s.b.w.s.DelegatingFilterProxyRegistrationBean [AbstractFilterRegistrationBean.java : 245] Mapping filter: 'springSecurityFilterChain' to: [/*]
2018-08-03 09:58:30,185 INFO o.s.b.w.s.ServletRegistrationBean [ServletRegistrationBean.java : 186] Servlet dispatcherServlet mapped to [/]
2018-08-03 09:58:30,307 INFO c.z.h.HikariDataSource [HikariDataSource.java : 110] HikariPool-1 - Starting...
2018-08-03 09:58:30,439 INFO c.z.h.HikariDataSource [HikariDataSource.java : 123] HikariPool-1 - Start completed.
2018-08-03 09:58:30,485 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java : 361] Building JPA container EntityManagerFactory for persistence unit 'default'
2018-08-03 09:58:30,495 INFO o.h.j.i.u.LogHelper [LogHelper.java : 31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-08-03 09:58:30,547 INFO o.h.Version [Version.java : 45] HHH000412: Hibernate Core {5.2.17.Final}
2018-08-03 09:58:30,549 INFO o.h.c.Environment [Environment.java : 213] HHH000206: hibernate.properties not found
2018-08-03 09:58:30,583 INFO o.h.a.c.Version [JavaReflectionManager.java : 66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-08-03 09:58:30,688 INFO o.h.d.Dialect [Dialect.java : 157] HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2018-08-03 09:58:31,073 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 415] Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:58:31,698 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 47] ceph 服务器连接实例已创建！
2018-08-03 09:58:31,699 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 48] 初始化ceph存储...
2018-08-03 09:58:32,107 INFO c.t.c.m.f.c.CephAwsS3Connection [CephAwsS3Connection.java : 57] 初始化ceph存储...完毕！
2018-08-03 09:58:32,177 INFO c.t.c.m.f.c.FileStorageConfig$$EnhancerBySpringCGLIB$$2a117dad [FileStorageConfig.java : 39] 文件存储位置==>ceph
2018-08-03 09:58:32,706 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/js/**'], []
2018-08-03 09:58:32,706 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/css/**'], []
2018-08-03 09:58:32,706 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/favicon.ico'], []
2018-08-03 09:58:32,706 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: Ant [pattern='/images/**'], []
2018-08-03 09:58:32,797 INFO o.s.s.w.DefaultSecurityFilterChain [DefaultSecurityFilterChain.java : 43] Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51504f3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f7429c0, org.springframework.security.web.header.HeaderWriterFilter@69ede3fe, org.springframework.security.web.authentication.logout.LogoutFilter@67ecb202, com.troila.cloud.mail.file.security.filter.TokenFilter@254077f4, com.troila.cloud.mail.file.security.filter.UserLoginFilter@d076a46, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@52c3c192, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2980ddc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f2d10de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4104e525, org.springframework.security.web.session.SessionManagementFilter@61ffacad, org.springframework.security.web.access.ExceptionTranslationFilter@67a52c0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c7d1bfb]
2018-08-03 09:58:32,961 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:58:33,050 INFO o.s.w.s.m.m.a.RequestMappingHandlerAdapter [RequestMappingHandlerAdapter.java : 574] Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@15dd8613: startup date [Fri Aug 03 09:58:27 CST 2018]; root of context hierarchy
2018-08-03 09:58:33,076 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration$JpaWebMvcConfiguration [JpaBaseConfiguration.java : 235] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-08-03 09:58:33,107 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/test],methods=[POST]}" onto public java.lang.String com.troila.cloud.mail.file.controller.FileController.test()
2018-08-03 09:58:33,109 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.upload(java.lang.String,org.springframework.web.multipart.MultipartFile,int,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest) throws java.io.IOException
2018-08-03 09:58:33,109 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/pause],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.ProgressInfo> com.troila.cloud.mail.file.controller.FileController.pauseUpload(java.lang.String)
2018-08-03 09:58:33,110 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/down1],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart1(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:58:33,110 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/prepare],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.PrepareUploadResult> com.troila.cloud.mail.file.controller.FileController.prepareUpload(com.troila.cloud.mail.file.model.FileDetailInfo,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2018-08-03 09:58:33,110 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.download(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int) throws java.io.IOException
2018-08-03 09:58:33,110 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/file/download],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FileController.downloadByPart(javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest,int,boolean) throws java.io.IOException
2018-08-03 09:58:33,113 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[PUT]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.update(javax.servlet.http.HttpSession,com.troila.cloud.mail.file.model.Folder)
2018-08-03 09:58:33,113 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/create],methods=[POST]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.createUserFolder(javax.servlet.http.HttpSession,java.lang.String,int)
2018-08-03 09:58:33,113 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[GET]}" onto public org.springframework.http.ResponseEntity<com.troila.cloud.mail.file.model.Folder> com.troila.cloud.mail.file.controller.FolderController.getFolderInfo(javax.servlet.http.HttpSession,int)
2018-08-03 09:58:33,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder/list],methods=[GET]}" onto public org.springframework.http.ResponseEntity<java.util.List<com.troila.cloud.mail.file.model.Folder>> com.troila.cloud.mail.file.controller.FolderController.getUserFolders(javax.servlet.http.HttpSession)
2018-08-03 09:58:33,114 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/folder],methods=[DELETE]}" onto public org.springframework.http.ResponseEntity<java.lang.String> com.troila.cloud.mail.file.controller.FolderController.deleteFolderById(javax.servlet.http.HttpSession,int)
2018-08-03 09:58:33,116 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-03 09:58:33,116 INFO o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMethodMapping.java : 547] Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-03 09:58:33,148 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:58:33,149 INFO o.s.w.s.h.SimpleUrlHandlerMapping [AbstractUrlHandlerMapping.java : 373] Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-03 09:58:33,165 INFO o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java : 288] Detected @ExceptionHandler methods in controllerExceptionHandlerAdvice
2018-08-03 09:58:33,526 INFO i.l.c.EpollProvider [Slf4JLogger.java : 101] Starting without optional epoll library
2018-08-03 09:58:33,527 INFO i.l.c.KqueueProvider [Slf4JLogger.java : 101] Starting without optional kqueue library
2018-08-03 09:58:33,838 WARN o.s.b.d.a.OptionalLiveReloadServer [OptionalLiveReloadServer.java : 61] Unable to start LiveReload server
2018-08-03 09:58:33,864 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 433] Registering beans for JMX exposure on startup
2018-08-03 09:58:33,866 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 895] Bean with name 'dataSource' has been autodetected for JMX exposure
2018-08-03 09:58:33,871 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 668] Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2018-08-03 09:58:33,874 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 351] Starting beans in phase 2147483647
2018-08-03 09:58:33,926 INFO o.a.c.h.Http11NioProtocol [DirectJDKLog.java : 180] Starting ProtocolHandler ["http-nio-8089"]
2018-08-03 09:58:33,931 INFO o.a.t.u.n.NioSelectorPool [DirectJDKLog.java : 180] Using a shared selector for servlet write/read
2018-08-03 09:58:33,951 INFO o.s.b.w.e.t.TomcatWebServer [TomcatWebServer.java : 206] Tomcat started on port(s): 8089 (http) with context path ''
2018-08-03 09:58:33,956 INFO c.t.c.m.f.Application [StartupInfoLogger.java : 59] Started Application in 6.257 seconds (JVM running for 7.093)
2018-08-03 09:58:41,430 INFO o.a.c.c.C.[.[.[/] [DirectJDKLog.java : 180] Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-03 09:58:41,431 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 494] FrameworkServlet 'dispatcherServlet': initialization started
2018-08-03 09:58:41,449 INFO o.s.w.s.DispatcherServlet [FrameworkServlet.java : 509] FrameworkServlet 'dispatcherServlet': initialization completed in 18 ms
2018-08-03 09:58:41,566 ERROR c.t.c.m.f.u.ControllerExceptionHandlerAdvice [ControllerExceptionHandlerAdvice.java : 23] 
javax.ws.rs.BadRequestException: 无效的用户信息!
	at com.troila.cloud.mail.file.controller.FileController.prepareUpload(FileController.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.troila.cloud.mail.file.security.filter.TokenFilter.doFilterInternal(TokenFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:147)
	at org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:81)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Unknown Source)
2018-08-03 09:58:41,574 WARN o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java : 192] Resolved exception caused by Handler execution: javax.ws.rs.BadRequestException: 无效的用户信息!
2018-08-03 09:59:31,557 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [SpringApplicationAdminMXBeanRegistrar.java : 132] Application shutdown requested.
2018-08-03 09:59:31,557 INFO o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java : 993] Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@15dd8613: startup date [Fri Aug 03 09:58:27 CST 2018]; root of context hierarchy
2018-08-03 09:59:31,559 INFO o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java : 366] Stopping beans in phase 2147483647
2018-08-03 09:59:31,565 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java : 451] Unregistering JMX-exposed beans on shutdown
2018-08-03 09:59:31,566 INFO o.s.j.e.a.AnnotationMBeanExporter [MBeanRegistrationSupport.java : 183] Unregistering JMX-exposed beans
2018-08-03 09:59:31,569 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java : 597] Closing JPA EntityManagerFactory for persistence unit 'default'
2018-08-03 09:59:31,571 INFO c.z.h.HikariDataSource [HikariDataSource.java : 381] HikariPool-1 - Shutdown initiated...
2018-08-03 09:59:31,574 INFO c.z.h.HikariDataSource [HikariDataSource.java : 383] HikariPool-1 - Shutdown completed.
